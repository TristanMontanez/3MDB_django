{% extends 'main.html' %}

{% block content %}
    <link rel="stylesheet" href="https://cdn.datatables.net/1.11.4/css/jquery.dataTables.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/select/1.3.4/css/select.dataTables.min.css">
    <div class="container" style="margin-top: 5%; margin-left: 20px; margin-right" >
        <table id="historyTable" class="cell-border" cellspacing="0" width="100%">
            <thead>
                <tr>
                    {% for col in columns %}
                        <th>{{ col }}</th>
                    {% endfor %}
                </tr>
            </thead>
        </table>

    </div>

    <script src="https://code.jquery.com/jquery-3.5.1.js"></script>
    <script src="https://cdn.datatables.net/1.11.4/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/select/1.3.4/js/dataTables.select.min.js"></script>
    <script>
        var data = {{ items | safe }}

        table = $('#historyTable').DataTable({
            data: data,
            responsive: true,
            scrollY: '53vh',
            scrollCollapse: true,
            columnDefs : [
                { "width": "5%", "className": "dt-body-right", "targets": 0 },
                { "width": "7%", "className": "dt-body-right", "targets": 4 },
                { "width": "10%", "className": "dt-body-right", "targets": 5 },
            ]
        });
    </script>

{% endblock %}